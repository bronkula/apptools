(function(d){function m(){this.originalHash=location.hash;this.updateUrl=!1;this.stateObj={title:null,url:null};this.previousSection=this.currentSection=null;this.navHistory=[];this.sections=[];this.mainElement}m.prototype.navigate=function(a,f){f=void 0===f?!0:f;"back"==a?null!=d.history.state&&d.history.back():d.history.pushState?k({title:a,url:d.location.origin+d.location.pathname+"#"+a},f):d.location.assign(this.stateObj.url)};var n=function(){var a=""!==b.originalHash?b.originalHash.substr(1):
"";b.sections.includes(a.split("/")[0])||(a=b.sections[0]);k({title:a,url:location.href})},k=function(a,f){var e={detail:{nextPage:{title:a.title,url:a.url,el:g(a.title?"."+a.title.split("/")[0]:"")[0]},prevPage:{title:b.stateObj.title,url:b.stateObj.url,el:g(b.stateObj.title?"."+b.stateObj.title.split("/")[0]:"")[0]}}};b.stateObj={title:a.title,url:a.url};d.history[f?"pushState":"replaceState"](a,a.title,a.url);setTimeout(function(){d.document.dispatchEvent(new CustomEvent("pageshow",e));r()},10)},
r=function(){if(b.stateObj.title){var a=b.stateObj.title.split("/");a=g("."+a[0]);a.length&&(g("[data-role='page'].active").forEach(function(a){return a.classList.remove("active")}),a[0].classList.add("active"))}},t=function(){b.sections=[];g("[data-role='page']").forEach(function(a){a.classList.add(a.id);b.sections.push(a.id)})},u=function(){h(b.mainElement[0],"click","[data-role='jump']",function(a){a.preventDefault();b.navigate([].find.call(this.attributes,function(a){return"href"==a.nodeName}).value.substr(1));
return!1});h(b.mainElement[0],"click","[href='#']",function(a){a.preventDefault()});h(b.mainElement[0],"click","[data-toggle]",function(a){l(this,this.dataset.toggle,"toggle")});h(b.mainElement[0],"click","[data-activate]",function(a){l(this,this.dataset.activate,"add")});h(b.mainElement[0],"click","[data-deactivate]",function(a){l(this,this.dataset.deactivate,"remove")})},g=function(a){return a instanceof HTMLElement?[a]:a.isArray?a:a?[].slice.call(document.querySelectorAll(a)):[]},p=function(a){return a.nextSibling instanceof
HTMLElement?[a.nextSibling]:p(a.nextSibling)},q=function(a){return a.previousSibling instanceof HTMLElement?[a.previousSibling]:q(a.previousSibling)},h=function(a,f,e,b){var c=this;f.split(" ").forEach(function(a){c.addEventListener(a,function(a){[].forEach.call(document.querySelectorAll(e),function(c){a.target==c&&b.apply(a.target,[a])})},!1)})},l=function(a,f,b){switch(f){case "next":a=p(a);break;case "prev":a=q(a);break;case "parent":a=[a.parentElement];break;default:a=g(f)}a.forEach(function(a){return a.classList[b]("active")})},
x=function(){g("[data-template]").forEach(function(a){var b=Object.assign({},a.dataset),e;for(e in b){var v=e;var c=b[e];try{var d=JSON.parse(c)&&!!c}catch(y){d=!1}b[v]=d?JSON.parse(b[e]):b[e]}a.innerHTML=w(g(b.template)[0].innerHTML)(b)})},w=function(a){var b=function(a,d){if(!a||!d)return a;var c=/(.*?)\[(\d+)\]\.?(.*)/.exec(d);if(null!==c)return c[1]&&c[3]?b(a[c[1]][c[2]],c[3]):c[3]?b(a[c[2]],c[3]):c[1]?a[c[1]][c[2]]:a[c[2]];c=d.indexOf(".");return-1<c?b(a[d.substr(0,c)],d.substr(c+1)):a[d]};return function(d){var f=
document.createElement("textarea");f.innerHTML=a;var c=f.value;f=/<%=\s*(.+?)\s*%>/;for(var e,g;e=f.exec(c);)g=e[1].split(":"),c=b(d,g[0]),c=e.input.substr(0,e.index)+(void 0!==c?c:void 0===g[1]?"[undefined]":g[1])+e.input.substr(e[0].length+e.index);return c}},b=new m;d.addEventListener("popstate",function(a){return null!=a.state?k(a.state):n()});d.document.addEventListener("DOMContentLoaded",function(){b.mainElement=d.document.body;t();u();x();setTimeout(n,10)});d.PT=b})(window);