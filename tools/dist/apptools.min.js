const templater=e=>t=>(Array.isArray(t)?t:[t]).reduce((t,n,r,i)=>t+e(n,r,i),""),someProps=(e,t)=>n=>e.some(e=>RegExp(t,"i").test(n[e])),somePropsAll=(e,t,n)=>e.filter(someProps(t,n)),somePropsFirst=(e,t,n)=>e.find(someProps(t,n)),somePropsIndex=(e,t,n)=>e.findIndex(someProps(t,n)),sameProps=e=>t=>Object.keys(e).every(n=>t[n]===e[n]),samePropsAll=(e,t)=>e.filter(sameProps(t)),samePropsFirst=(e,t)=>e.find(sameProps(t)),samePropsIndex=(e,t)=>e.findIndex(sameProps(t)),zeros=(e,t)=>(+e+Math.pow(10,t)+"").substr(1),numberCommas=e=>(e+"").replace(/\B(?=(?=\d*\.)(\d{3})+(?!\d))/g,","),moneyCommas=(e,t=2)=>"$"+numberCommas(e.toFixed(t)),arrayReplace=(e,t)=>n=>e.reduce((e,n,r)=>e.replace(n,t[r]),n),readFiles=(e,t,n=0)=>{if(e&&e[n]){let r=new FileReader;r.onload=r=>{t(r),readFiles(e,t,n+1)},r.readAsDataURL(e[n])}},compose=(...e)=>t=>e.reduceRight((e,t)=>t(e),t),pipe=(...e)=>t=>e.reduce((e,t)=>t(e),t),trace=e=>t=>(console.log(`${e}: ${t}`),t),delay=e=>new Promise(t=>setTimeout(t,e)),aGetFile=async e=>{const t=await fetch(e);return await t.json()},checkData=(e,t=10)=>new Promise(n=>{const r=()=>e()?n(e()):setTimeout(r,t);r()}),mapJoin=(e,t,n)=>e.map(t).join(n),splitMapJoin=(e,t,n,r=/\s?,\s?/)=>mapJoin(Array.isArray(e)?e:e.split(r),t,n),getStore=e=>void 0!==localStorage[e]?JSON.parse(localStorage[e]):[],setStore=(e,t)=>localStorage[e]=JSON.stringify(t),order=(e,t="order",n=!1)=>e.slice().sort((e,r)=>e[t]>r[t]?n?-1:1:e[t]<r[t]?n?1:-1:0);(e=>{const q=(e,t,n)=>new Q(e,t,n);q.isElement=e=>e instanceof HTMLDocument||e instanceof HTMLElement||e instanceof SVGElement||e instanceof Element,q.isHTML=e=>e instanceof HTMLElement||e instanceof HTMLDocument,q.isSVG=e=>e instanceof SVGElement,q.isString=e=>"string"==typeof e||e instanceof String,q.isFunction=e=>"function"==typeof e,q.isQ=e=>e instanceof Q,q.isArray=e=>Array.isArray(e),q.isFragment=e=>q.isString(e)&&"<"==e.trim()[0],q.parse=e=>{try{return JSON.parse(e)}catch(t){return e}},q.makeFragment=e=>q.isFragment(e)?[...document.createRange().createContextualFragment(e.trim()).childNodes]:[e],q.make=e=>q(q.makeFragment(e)),q.extend=(e,t,n=!1)=>{q.hasExtension(e)&&!n||(Q.prototype[e]=t)},q.hasExtension=e=>q.isFunction(Q.prototype[e]),q.sift=(e,t)=>{let n=e.toArray().flatMap(t);n.filter(e=>e);return[...new Set(n)]},q.settle=e=>e.flatMap(e=>e?q.isFragment(e)?q.makeFragment(e):q.isQ(e)?e.toArray():e:[]);class Q{constructor(e,t=document,n=!1){let r=e&&q.isElement(t)?q.isQ(e)?e.toArray():q.isElement(e)||e==t?[e]:q.isFragment(e)?q.makeFragment(e):q.isArray(e)?q.settle(e):q.isFunction(e)?!window.addEventListener("DOMContentLoaded",e):t.querySelectorAll(e):[];if(!r)return!1;Object.assign(this,r),this.length=r.length}sift(e){return q(q.sift(this,e))}pipe(e){return q(this.map(e))}is(e){return this.some(t=>t.matches(e))}not(e){return!this.is(e)}toArray(){return this.reduce((e,t)=>e.concat([t]),[])}toString(){return this.reduce((e,t)=>e+q.isElement(t)?t.outerHTML:""+t,"")}}Q.prototype.forEach=Array.prototype.forEach,Q.prototype.map=Array.prototype.map,Q.prototype.flatMap=Array.prototype.flatMap,Q.prototype.reduce=Array.prototype.reduce,Q.prototype.some=Array.prototype.some,Q.prototype.every=Array.prototype.every,Q.prototype.filter=Array.prototype.filter,e.q=q})(window),(()=>{if(!q)throw"qjs not imported yet";q.extend("remove",(function(){return this.sift(e=>(e.parentElement.removeChild(e),!1))})),q.extend("clear",(function(){return this.pipe(e=>(e.innerHTML="",e))})),q.extend("append",(function(e){return e=q(e),this.sift(t=>e.map(e=>(t.appendChild(e),t)))})),q.extend("appendTo",(function(e){return e=q(e),this.sift(t=>e.map(e=>(e.appendChild(t),t)))})),q.extend("prepend",(function(e){return e=q(e),this.sift(t=>e.map(e=>(t.insertBefore(e,t.children[0]),t)))})),q.extend("prependTo",(function(e){return e=q(e),this.sift(t=>e.map(e=>(e.insertBefore(t,e.children[0]),t)))})),q.extend("before",(function(e){return e=q(e),this.sift(t=>e.map(e=>(t.parentElement.insertBefore(e,t),t)))})),q.extend("after",(function(e){return e=q(e),this.sift(t=>e.map(e=>(t.parentElement.insertBefore(e,t.nextSibling),t)))})),q.extend("replaceWith",(function(e){return q.isQ(e)||(e=q(e)),this.sift(t=>q.replaceWith(t,e[0]))})),q.extend("addClass",(function(e){return this.pipe(t=>(t.classList.add(e),t))})),q.extend("removeClass",(function(e){return this.pipe(t=>(t.classList.remove(e),t))})),q.extend("toggleClass",(function(e){return this.pipe(t=>(t.classList.toggle(e),t))})),q.extend("hasClass",(function(e){return this.some(t=>t.classList.contains(e))})),q.extend("addAttr",(function(e){return this.pipe(t=>(t.setAttribute(e,!0),t))})),q.extend("removeAttr",(function(e){return this.pipe(t=>(t.removeAttribute(e),t))})),q.extend("toggleAttr",(function(e){return this.pipe(t=>(t.toggleAttribute(e),t))})),q.extend("hasAttr",(function(e){return this.pipe(t=>(t.hasAttribute(e),t))})),q.extend("css",(function(e){return q.isString(e)?this[0].style[q.toPropCase(e)]:this.pipe(t=>q.setCSS(t,e))})),q.extend("attr",(function(e){return q.isString(e)?this[0].getAttribute(e):this.pipe(t=>q.setAttr(t,e))})),q.extend("data",(function(e){return q.isString(e)||void 0===e?q.getData(this[0],e):this.pipe(t=>q.setData(t,e))})),q.extend("val",(function(e){return void 0===e?this[0].value:this.pipe(t=>q.setVal(t,e))})),q.extend("html",(function(...e){return 0===e.length?this[0].innerHTML:this.pipe(t=>q.setHTML(t,...e))})),q.setCSS=function(e,t){for(let n in t)t.hasOwnProperty(n)&&(e.style[q.toPropCase(n)]=t[n]);return e},q.setAttr=function(e,t){for(let n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n]);return e},q.setVal=function(e,t){return e.value=t,e},q.replaceWith=function(e,t){return e.replaceWith(t),e},q.setHTML=function(e,...t){e.innerHTML="";let n=q.settle(t);return console.log("settle",n),n.forEach(t=>e.append(t)),e},q.setCache=function(e,t,n){void 0===e.qcache&&(e.qcache={}),t&&(e.qcache[t]=n)},q.setData=function(e,t){void 0===e.qcache&&(e.qcache={});for(let n in t)t.hasOwnProperty(n)&&(e.qcache[n]=t[n]);return e},q.getData=function(e,t){if(void 0===e.qcache){e.qcache={};for(let[t,n]of Object.entries(e.dataset))q.setCache(e,t,q.parse(n))}return void 0!==e.dataset[t]&&e.qcache[t]!=e.dataset[t]&&q.setCache(e,t,q.parse(e.dataset[t])),void 0===t?e.qcache:e.qcache[t]},q.toPropCase=function(e){return e.replace(/\-([a-z])/g,(e,t)=>t.toUpperCase())}})(),(()=>{if(!q)throw"qjs not imported yet";q.extend("find",(function(e){return this.sift(t=>q(e,t))})),q.extend("next",(function(){return this.sift(e=>e.nextElementSibling)})),q.extend("prev",(function(){return this.sift(e=>e.previousElementSibling)})),q.extend("parent",(function(){return this.sift(e=>e.parentElement)})),q.extend("closest",(function(e){return this.sift(t=>t.closest(e))})),q.extend("children",(function(e){return this.sift(t=>[...t.children].filter(t=>!e||!!t.matches(e)&&t))})),q.extend("last",(function(){return q(this[this.length-1])})),q.extend("first",(function(){return q(this[0])})),q.extend("siblings",(function(e){return this.sift(t=>[...t.parentElement.children].filter(n=>n!=t&&(!e||n.matches(e))))}))})(),(()=>{if(!q)throw"qjs not imported yet";q.extend("find",(function(e){return this.sift(t=>q(e,t))})),q.getPath=e=>e.path||e.composedPath&&e.composedPath(),q.inPath=(e,t)=>q.getPath(e).some(e=>e==t),q.evPoints=e=>"touch"!=e.type.substring(0,5)?[e]:e.touches.length?e.touches:e.changedTouches,q.getEXY=(e,t)=>{let n=(t||e.target).getBoundingClientRect();return{x:e.pageX-n.left,y:e.pageY-n.top}},q.getEventXY=(e,t)=>q.getEXY(q.evPoints(e)[0],t),q.extend("on",(function(e,t,n=!1){return e.trim().split(/\s+/).forEach(e=>{this.forEach(r=>r.addEventListener(e,t,n))}),this})),q.extend("delegate",(function(e,t,n){return this.on(e,e=>{this.find(t).forEach(t=>{q.inPath(e,t)&&n.call(t,e,t)})},{capture:!0}),this}))})(),(()=>{if(!q)throw"qjs not imported yet";q.fetch=e=>fetch(e).then(e=>e.json()),q.fetchAll=e=>Promise.all(e.map(e=>q.fetch(e))),q.fetchEach=(e,t=(e=>e))=>e.map(e=>n=>q.fetch(e).then(e=>n.concat([t(e)]))).reduce((e,t)=>e.then(t),Promise.resolve([])),q.post=(e,t)=>fetch(e,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(e=>e.json())})();