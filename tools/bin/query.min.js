const qobject=function(s,sc=document){let nl=s&&this.isDoc(sc)?s instanceof HTMLElement||s==sc?[s]:Array.isArray(s)?s:sc.querySelectorAll(s):[];Object.assign(this,nl),this.length=nl.length},q=(...a)=>new qobject(...a);qobject.prototype.forEach=Array.prototype.forEach,qobject.prototype.map=Array.prototype.map,qobject.prototype.reduce=Array.prototype.reduce,qobject.prototype.some=Array.prototype.some,qobject.prototype.every=Array.prototype.every,qobject.prototype.getPath=(e=>e.path||e.composedPath&&e.composedPath()),qobject.prototype.isDoc=(d=>d instanceof HTMLElement||d instanceof HTMLDocument),qobject.prototype.inPath=function(e,t){return this.getPath(e).some(o=>o==t)},qobject.prototype.sift=function(f){return q([...new Set(this.map(f))])},qobject.prototype.on=function(es,fn){return es.trim().split(/\s+/).forEach(e=>this.forEach(o=>o.addEventListener(e,fn))),this},qobject.prototype.delegate=function(es,sl,fn){return this.on(es,ev=>q(sl,ev.target).forEach(to=>this.inPath(ev,to)?fn.call(to,ev,to):0)),this},qobject.prototype.toArray=function(){return this.reduce((r,o)=>r.concat([o]),[])},qobject.prototype.find=function(s){return q(this.reduce((r,o)=>[...r,...q(s,o)],[]))},qobject.prototype.next=function(){return this.sift(o=>o.nextElementSibling)},qobject.prototype.prev=function(){return this.sift(o=>o.previousElementSibling)},qobject.prototype.parent=function(){return this.sift(o=>o.parentElement)},qobject.prototype.siblings=function(s){return this.sift(o=>[...o.parentElement.children].filter(a=>a==o&&(!s||a.matches(s))))},qobject.prototype.is=function(s){return this.some(o=>o.matches(s))},qobject.prototype.closest=function(s){return this.sift(o=>o.closest(s))};