const q=(...t)=>new qlist(...t);q.fetch=(t=>fetch(t).then(t=>t.json())),q.fetchAll=(t=>Promise.all(t.map(t=>q.fetch(t)))),q.fetchEach=((t,e=(t=>t))=>t.map(t=>o=>q.fetch(t).then(t=>o.concat([e(t)]))).reduce((t,e)=>t.then(e),Promise.resolve([]))),q.post=((t,e)=>fetch(t,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(t=>t.json()));const qlist=function(t,e=document){let o=t&&this.isDoc(e)?t instanceof HTMLElement||t==e?[t]:Array.isArray(t)?t:e.querySelectorAll(t):[];Object.assign(this,o),this.length=o.length};qlist.prototype.forEach=Array.prototype.forEach,qlist.prototype.map=Array.prototype.map,qlist.prototype.flatMap=Array.prototype.flatMap,qlist.prototype.reduce=Array.prototype.reduce,qlist.prototype.some=Array.prototype.some,qlist.prototype.every=Array.prototype.every,qlist.prototype.getPath=(t=>t.path||t.composedPath&&t.composedPath()),qlist.prototype.isDoc=(t=>t instanceof HTMLElement||t instanceof HTMLDocument),qlist.prototype.inPath=function(t,e){return this.getPath(t).some(t=>t==e)},qlist.prototype.sift=function(t){return q([...new Set(this.flatMap(t))])},qlist.prototype.on=function(t,e,o=!1){return t.trim().split(/\s+/).forEach(t=>{this.forEach(r=>r.addEventListener(t,e,o))}),this},qlist.prototype.delegate=function(t,e,o){return this.on(t,t=>this.find(e).forEach(e=>this.inPath(t,e)?o.call(e,t,e):0),{capture:!0}),this},qlist.prototype.toArray=function(){return this.reduce((t,e)=>t.concat([e]),[])},qlist.prototype.find=function(t){return q(this.reduce((e,o)=>[...e,...q(t,o).toArray()],[]))},qlist.prototype.next=function(){return this.sift(t=>t.nextElementSibling)},qlist.prototype.prev=function(){return this.sift(t=>t.previousElementSibling)},qlist.prototype.parent=function(){return this.sift(t=>t.parentElement)},qlist.prototype.children=function(){return this.sift(t=>[...t.children])},qlist.prototype.siblings=function(t){return this.sift(e=>[...e.parentElement.children].filter(o=>o!=e&&(!t||o.matches(t))))},qlist.prototype.is=function(t){return this.some(e=>e.matches(t))},qlist.prototype.closest=function(t){return this.sift(e=>e.closest(t))};